<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCA Management Platform</title>
    <link rel="stylesheet" href="/mappingtool/v2/css/styles.css">
</head>
<body>
    <div id="menu"></div>
    <div id="content" class="center-content">
        <!-- Step 1: DCA Loading -->
        <div id="step-1" class="grid-management-section">
            <h2>DCA Management Platform - DCA Loading</h2>
            <div class="upload-section">
                <h3>Upload DCA</h3>
                <input type="file" id="dca-upload" accept=".json,.geojson">
            </div>
            <div class="map-area">
                <p>No DCA loaded. Upload a file to get started.</p>
            </div>
            <div class="next-button">
                <button id="to-step-2">Next</button>
            </div>
        </div>

        <!-- Combined Steps: Mission Division, Routing Setup, and Area Adjustment -->
        <div id="step-2" class="grid-management-section" style="display: none;">
            <h2>DCA Management Platform - Mission Division</h2>
            <!-- Top Bar for Drive Conditions -->
            <div class="drive-conditions">
                <label for="weather">Weather:</label>
                <select id="weather">
                    <option value="clear">Clear</option>
                    <option value="rain">Rain</option>
                    <option value="snow">Snow</option>
                </select>

                <label for="traffic">Traffic:</label>
                <select id="traffic">
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
            </div>

            <!-- Map Area -->
            <div class="map-area">
                <img src="/mappingtool/v2/images/san_antonio.png" alt="Fake DCA" id="fake-dca">
                <p>Draw your mission on the map.</p>
            </div>

            <!-- Information Panel -->
            <div class="info-panel">
                <h3>Mission Details</h3>
                <p id="mission-info">No mission defined.</p>
                <button id="request-drive-time">Request Drive Time</button>
                <p id="drive-time">Drive time will appear here.</p>
            </div>

            <!-- Buttons -->
            <div class="next-button">
                <button id="finalize">Finalize</button>
            </div>
        </div>
    </div>
    <script src="/mappingtool/v2/js/scripts.js"></script>
    <script>
        // Step 1 to Step 2 Navigation
        document.getElementById('to-step-2').addEventListener('click', () => {
            document.getElementById('step-1').style.display = 'none';
            document.getElementById('step-2').style.display = 'block';

            // Simulate loading a fake DCA
            const mapArea = document.querySelector('.map-area');
            mapArea.innerHTML = '<img src="/mappingtool/v2/images/san_antonio.png" alt="Fake DCA" id="fake-dca">';
        });

        // Simulate Drawing on Map and Requesting Drive Time
        document.getElementById('request-drive-time').addEventListener('click', () => {
            const weather = document.getElementById('weather').value;
            const traffic = document.getElementById('traffic').value;
            const missionInfo = "Mission Area: Sample Area";

            document.getElementById('mission-info').textContent = missionInfo;
            document.getElementById('drive-time').textContent = `Estimated Drive Time (Weather: ${weather}, Traffic: ${traffic}): 15 minutes`;
        });

        // Finalize Button
        document.getElementById('finalize').addEventListener('click', () => {
            alert('Mission finalized with current settings.');
        });
    </script>
</body>
</html>
